platform: linux
image_resource:
  type: docker-image
  source:
    repository: sk8s/pfs-ci-tf
    tag: latest
run:
  path: bash
  args:
  - git-pfs-ci/tasks/scripts/tf_invoke.sh
  - tf-source-dir/docs/user-guide/platforms/gcp
  - tf-source-dir/docs/user-guide/routing/gcp

inputs:
- name: git-pfs-ci
- name: tf-source-dir

outputs:
- name: tf-output

params:
  TF_LOG: DEBUG
  COMMAND: replace-me
  SERVICE_ACCOUNT_EMAIL: replace-me
  ENV_PREFIX: replace-me
  PROJECT_ID: replace-me
  NETWORK_NAME: replace-me
  REGION: replace-me
  AZ: replace-me
  SUBNET_IP_PREFIX: replace-me
  GOOGLE_CLOUD_KEYFILE_JSON: replace-me
